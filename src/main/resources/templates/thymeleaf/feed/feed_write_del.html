<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="ko"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/home">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>캐리어</title>
<!-- include libraries(jQuery, bootstrap) -->
<link
	href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
	rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<!-- include summernote css/js -->
<link
	href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
<!-- icon CDN -->
<link rel='stylesheet'
	href='https://cdn-uicons.flaticon.com/2.1.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
<!-- fontawesome icon -->
<script src="https://kit.fontawesome.com/ebccd8f794.js"
	crossorigin="anonymous"></script>
<link rel="stylesheet" href="../css/common.css">
<link rel="stylesheet" href="../css/bandFeedWrite.css">
<link rel="stylesheet" href="../css/feed_show.css">
</head>
<body>
	<!-- 토스트 -->
	<div th:replace="~{alert/toast::div}"></div>
	<div class="bg-pink" id="feedWrite">
		<div class="FeedWrite_form">
			<button class="btn backBtn shadow-sm" onclick="history.back()">
				<i class="fi fi-sr-angle-small-left f22 text-center"></i>
			</button>
			<div class="container mb-5">
				<form method="post" action="feed_write_action" enctype="multipart/form-data">
					<input type="hidden" name="Member_Id" th:value="${session.Member_Id}"/>
					<!-- onsubmit="return func_writeBandFeed()" -->
					<!--썸네일-->
					<div
						class="col-12 order-0 order-md-1 p-0 px-md-5 member-fileUpload-wrapper">
						<div class="mt-md-5 mb-4 mx-auto px-md-5">
							<img id="profileimage" src="../img/mypage/add-photo.png"
								alt="userImg" class="border rounded img-fluid" />
							<input
								id="fileUpload" type='file' class="feed-fileUpload-form"
								onchange="readURL(this);" name="Feed_thumbnail" multiple/>
							<label
								for="fileUpload"
								class="member-fileUpload bg-light shadow-sm hstack">
								<div class="member-fileUpload-btn m-auto bg-light"></div> 썸네일 변경
							</label>
						</div>
					</div>
					<!--feed top-->
					<div class="col-12 feed-show-top justify-content-between order-1">
						<label for="title">제목</label>
						<input id="title" type="text" class="form-control" name="Feed_title">
					</div>
					<hr />
					<!--feed 내용-->
					<div class="col-12 mt-5 order-1">
						<!--DATE-->
						<div class="feed-show-date">
							<label for="date" class="fw-bold">여행 일자</label>
							<div class="align-items-center hstack">
								<i class="fa-regular fa-calendar"></i>
								<div class="feed-write-date-form">
									<input type="text" name="yyyy" placeholder="yyyy" maxlength="4"
										class="form-control" />- <input type="text" name="mm"
										placeholder="mm" maxlength="2" class="form-control" />- <input
										type="text" name="dd" placeholder="dd" maxlength="2"
										class="form-control" />
								</div>
							</div>
						</div>
						<hr class="my-5">
						<!--CONTENT-->
						<div class="feed-show-content">
							<label for="summernote" class="fw-bold">여행 기록</label>
							<textarea id="summernote" name="Feed_content"></textarea>
						</div>
					</div>
					<hr class="my-5">
					<!--피드 하단-->
					<div class="feed-show-bot p-4 text-center">
						<div class="tag-group">
							<input id="1" type="radio" name="Feed_theme" value="#빅데이터 맛집">
							<label for="1" class="btn btn-dark-over btn-sm">#빅데이터 맛집</label>
							<input id="2" type="radio" name="Feed_theme" value="#축제">
							<label for="2" class="btn btn-dark-over btn-sm">#축제</label>
							<input id="3" type="radio" name="Feed_theme" value="#공연">
							<label for="3" class="btn btn-dark-over btn-sm">#공연</label>
							<input id="4" type="radio" name="Feed_theme" value="#댕댕이랑">
							<label for="4" class="btn btn-dark-over btn-sm">#댕댕이랑</label>
							<input id="5" type="radio" name="Feed_theme" value="#아이와함께">
							<label for="5" class="btn btn-dark-over btn-sm">#아이와함께</label>
							<input id="6" type="radio" name="Feed_theme" value="#데이트">
							<label for="6" class="btn btn-dark-over btn-sm">#데이트</label>
							<input id="7" type="radio" name="Feed_theme" value="#소개팅">
							<label for="7" class="btn btn-dark-over btn-sm">#소개팅</label>
							<input id="8" type="radio" name="Feed_theme" value="#친구와">
							<label for="8" class="btn btn-dark-over btn-sm">#친구와</label>
							<input id="9" type="radio" name="Feed_theme" value="#효도여행">
							<label for="9" class="btn btn-dark-over btn-sm">#효도여행</label>
						</div>
						<hr class="my-5">
						<div class="tag-group">
							<input id="01" type="radio" name="Feed_area" value="서울"> <label
								for="01" class="btn btn-dark-over btn-sm">#서울</label> <input
								id="02" type="radio" name="Feed_area" value=부산> <label
								for="02" class="btn btn-dark-over btn-sm">#부산</label> <input
								id="03" type="radio" name="Feed_area" value="대구"> <label
								for="03" class="btn btn-dark-over btn-sm">#대구</label> <input
								id="04" type="radio" name="Feed_area" value="인천"> <label
								for="04" class="btn btn-dark-over btn-sm">#인천</label> <input
								id="05" type="radio" name="Feed_area" value="광주"> <label
								for="05" class="btn btn-dark-over btn-sm">#광주</label> <input
								id="06" type="radio" name="Feed_area" value="대전"> <label
								for="06" class="btn btn-dark-over btn-sm">#대전</label> <input
								id="07" type="radio" name="Feed_area" value="울산"> <label
								for="07" class="btn btn-dark-over btn-sm">#울산</label> <input
								id="08" type="radio" name="Feed_area" value="세종"> <label
								for="08" class="btn btn-dark-over btn-sm">#세종</label> <input
								id="09" type="radio" name="Feed_area" value="경기"> <label
								for="09" class="btn btn-dark-over btn-sm">#경기</label> <input
								id="010" type="radio" name="Feed_area" value="강원"> <label
								for="010" class="btn btn-dark-over btn-sm">#강원</label> <input
								id="011" type="radio" name="Feed_area" value="충북"> <label
								for="011" class="btn btn-dark-over btn-sm">#충북</label> <input
								id="012" type="radio" name="Feed_area" value="충남"> <label
								for="012" class="btn btn-dark-over btn-sm">#충남</label> <input
								id="013" type="radio" name="Feed_area" value="전북"> <label
								for="013" class="btn btn-dark-over btn-sm">#전북</label> <input
								id="014" type="radio" name="Feed_area" value="전남"> <label
								for="014" class="btn btn-dark-over btn-sm">#전남</label> <input
								id="015" type="radio" name="Feed_area" value="경북"> <label
								for="015" class="btn btn-dark-over btn-sm">#경북</label> <input
								id="016" type="radio" name="Feed_area" value="경남"> <label
								for="016" class="btn btn-dark-over btn-sm">#경남</label> <input
								id="017" type="radio" name="Feed_area" value="제주"> <label
								for="017" class="btn btn-dark-over btn-sm">#제주</label>
						</div>
					</div>
					<div class="p-5">
						<input type="submit" name="doit" value="글쓰기" class="btn btn-main writeBtn w-100"/>
					</div>
				</form>
			</div>
		</div>
		<script>
    /* 로그인을 하지 않았을 때  */
    <!-- 알림창 -->
    function func_writeBandFeed() {
	   var bandWriter_id = $('#bandWriter_id').val();
	   if(bandWriter_id.length == 0){
		   msg = ('로그인시 이용가능합니다.');
		   location.href = '/login';
		   return false;
	   }
   }
   	
    /* SUMMERNOTE */
	    $(document).ready(function() {
	        $('#summernote').summernote({
	        	placeholder: '글 내용을 입력해주세요',
	        	width: '100%',
	          	minHeight: 400,             // 최소 높이
	            maxHeight: null,             // 최대 높이
	            focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
	            lang: "ko-KR",               // 한글 설정
	            spellCheck: false,
	            callbacks: {   //이미지 첨부하는 부분
	                 onImageUpload : function(files) {
	                      uploadSummernoteImageFile(files[0],this);
	                  }
	              }
	        });
	        
	        
	
	        function uploadSummernoteImageFile(file, editor) {
	           var resultUrl;
	           
	           data = new FormData();
	           data.append("file", file);
	           
	           $.ajax({
	              data : data,
	              type : "POST",
	              url : "/uploadSummernoteImageFile",
	
	              contentType : false,
	              processData : false,
	              success : function(data) {
	                 $(editor).summernote('insertImage', data.url);
	              }
	           });
	           
	        }
	      
	     });
    </script>

		<!--  이미지 프리뷰  -->
		<script>
	    function readURL(input) {
	        if (input.files && input.files[0]) {
	            var reader = new FileReader();
	
	            reader.onload = function (e) {
	                $('#profileimage')
	                    .attr('src', e.target.result);
	            };
	
	            reader.readAsDataURL(input.files[0]);
	        }
	    }
	</script>
</body>

</html>