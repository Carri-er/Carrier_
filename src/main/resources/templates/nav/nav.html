<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Nav</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
	crossorigin="anonymous">
<link rel="stylesheet" href="css/common.css">
<link rel="stylesheet" href="css/nav.css">
</head>
<body>
	
	<nav class="mt-3 mb-0 sticky-top" th:fragment="nav">
		<div id="nav" class="p-0 m-auto row container-fluid px-0 navbar navbar-expand-md d-flex justify-content-center  bg-white shadow-sm">
<!-- 	<nav
		class="mt-3 mb-0 navbar navbar-expand-md d-flex justify-content-center sticky-top bg-white shadow-sm"
		th:fragment="nav">
		<div class="row container-fluid px-0 "> -->
			<!-- Logo 좌측 -->
			<a class="col navbar-brand hstack" href="home"> <img
				src="../img/nav/carrier.jpg" alt="" class="my-auto"
				style="width: 100px;"></a>
			<!--M nav btn-->
			<button class="col-2 ml-auto navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<!-- nav content -->
			<div
				class="px-0 col-8 d-lg-flex justify-content-between justify-content-lg-end mx-auto collapse navbar-collapse"
				id="navbarSupportedContent">
				<!-- nav 중앙 -->
				<div class="col-12 col-md-6 flex-grow-1 px-lg-5">
					<ul
						class="px-lg-5 mb-0 navbar-nav justify-content-around mb-lg-0 f17 px-4 bg-white rounded-bottom ">
						<li class="nav-item"><a class="nav-link" aria-current="page"
							href="home">홈</a></li>
						<li class="nav-item"><a class="nav-link" href="feed">피드</a></li>
						<li class="nav-item"><a class="nav-link" href="aicc">AI
								돋보기</a></li>
						<li class="nav-item"><a class="nav-link" href="band">밴드</a></li>
						<li class="nav-item dropdown navli"><a class="nav-link" href="info"
							role="button" data-bs-toggle="dropdown" aria-expanded="false">여행정보</a>
							<ul class="dropdown-menu z-5 text-md-center w-25 border-0" >
								<li ><a class="dropdown-item " href="info">여행정보</a></li>
								<li><a class="dropdown-item " href="infoCourse">여행코스</a></li>
							</ul></li>
						<li class="nav-item"><a class="nav-link mb-3 mb-md-0"
							href="map">지도</a></li>
						<th:block th:if="${session.Member_Id == null}">
							<li class="nav-item d-md-none"><a
								class="nav-link mb-3 mb-md-0" href="로그인">로그인</a></li>
						</th:block>
						<th:block th:unless="${session.Member_Id == null}">
							<li class="nav-item d-md-none"><a
								class="nav-link mb-3 mb-md-0" href="마이페이지">마이페이지</a></li>
						</th:block>
					</ul>
				</div>
				<!-- nav 우측 -->
				<div class="col nav-right d-flex align-items-center p-0 me-2">
					<!-- lg 화면 이상에서 보일 영역 -->
					<div
						class="col-12 d-none d-xl-flex justify-content-around align-items-center p-0 me-2">
						<!-- 서치 영역-->
						<div class="col-10 float-end nav-search-form">
							<form action="info_search" class="d-flex align-items-center pb-0"
								role="search">
								<input class="form-control" type="search"
									placeholder="어디로, 어떤 여행을 떠날 예정인가요?" aria-label="Search"
									name="key">
								<button class="nav-right-btn navbar-search-lg" type="submit">Search</button>
							</form>
						</div>
						<!----- 로그인 / 마이페이지 영역 ----->
						<!-- 로그인 -->
						<th:block th:if="${session.Member_Id == null}">
							<a th:href="@{login}"
								class="float-end navbar-user nav-right-btn nav-right-btn-img">로그인</a>
						</th:block>
						<!-- 마이페이지 -->
						<th:block th:unless="${session.Member_Id == null}">
							<a th:href="@{'mypage?id='+${session.Member_Id}}"
								class="nav-right-btn"> <img
								th:src="@{'../img/member_thumbnail/'+ ${session.Member_profileimage}}"
								class="rounded-circle img-fluid nav-right-btn-img float-end"
								alt="...">
							</a>
						</th:block>
					</div>
					<!-- md 화면에서만 보일 영역 -->
					<div class="d-flex">
						<div class="col d-none d-md-block d-xl-none">
							<!----- 로그인 / 마이페이지 영역 ----->
							<!-- 로그인 -->
							<th:block th:if="${session.Member_Id == null}">
								<a th:href="@{login}"
									class="float-end nav-right-btn nav-right-btn-img navbar-user">로그인</a>
							</th:block>
							<!-- 마이페이지 -->
							<th:block th:unless="${session.Member_Id == null}">
								<a th:href="@{'mypage?id='+${session.Member_Id}}"
									class="float-end nav-right-btn"> <img
									th:src="@{'../img/member_thumbnail/'+ ${session.Member_profileimage}}"
									class="rounded-circle img-fluid nav-right-btn-img float-end"
									alt="...">
								</a>
							</th:block>
							<!-- 검색 -->
							<a href="#" class="float-end nav-right-btn"
								data-bs-toggle="modal" data-bs-target="#exampleModal"> <span
								class="navbar-search-md nav-right-btn-img me-2 " id="searchmove">

							</span>
							</a>

							<!-- Modal -->
							<!-- <div class="modal " id="exampleModal" tabindex="-1"
								aria-labelledby="exampleModalLabel" aria-hidden="false">
								<div class="modal-dialog modal-fullscreen-sm-down">
									<div class="modal-content">
										<div class="modal-header">
											<h1 class="modal-title fs-5" id="exampleModalLabel">어디로,
												어떤 여행을 떠날 예정인가요?</h1>
											<button type="button" class="btn-close"
												data-bs-dismiss="modal" aria-label="Close"></button>
										</div>
										<form action="info_search" class="d-flex align-items-center"
											role="search">
											<div class="modal-body">
												<input class="form-control" type="search"
													placeholder="검색어를 입력해주세요" aria-label="Search" name="key">
											</div>
											<div class="modal-footer">
												<button type="submit" class="btn btn-nb">검색하기</button>

											</div>
										</form>
									</div>
								</div>
							</div> -->
						</div>
					</div>
				</div>
			</div>
		</div>
		<div th:insert="~{alert/toast::div}"></div>
		
		<!-- Modal -->
		<div class="modal fade" id="exampleModal" tabindex="-1"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content rounded-4 shadow-m border-0 search-modal px-3 pb-5">
					<div class="modal-header border-0">
						<span>어떤 여행을 떠날 예정인가요?</span>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body text-center">
						<form action="info_search" class="d-flex align-items-center"
												role="search">
							<button type="submit" id="submitButton" class="bg-trans border-0 h-100 position-absolute ms-4 mt-1">
								<i class="fi fi-br-search"></i>
							</button>
							<input class="form-control rounded-3 py-3 ps-5 f17" type="search" placeholder="검색어를 입력해주세요" aria-label="Search" name="key">
							<button type="submit" id="submitButton" class="bg-trans border-0 h-100 position-absolute ms-4 mt-1">
							</button>
						</form>
					</div>
					<div class="modal-footer border-0 text-start pt-0 px-3 f15">
						<p class="me-auto m-0 mb-3">추천 페이지</p>
						<div class="w-100 row gap-1 nav-search-recommend">
							<a href="/map" class="p-3 py-2">
								<p class="f16 fw-bold mb-1">주변 여행지</p>
								<span class="f14 d-block"><span class="text-muted">지도&nbsp;&nbsp;/&nbsp;&nbsp;</span>주변 여행지</span>
							</a>
							<a href="/aicc" class="p-3 py-2">
								<p class="f16 fw-bold mb-1">맞춤 여행</p>
								<span class="f14 d-block"><span class="text-muted">AI돋보기&nbsp;&nbsp;/&nbsp;&nbsp;</span>원하는 여행 고르기</span>
							</a>
							<a href="/band" class="p-3 py-2">
								<p class="f16 fw-bold mb-1">내 밴드</p>
								<span class="f14 d-block"><span class="text-muted">밴드&nbsp;&nbsp;/&nbsp;&nbsp;</span>가입한 밴드</span>
							</a>
							<div th:if="${session.Member_Id}==null" onclick="showToast()" style="cursor: pointer;" class="p-3 py-2">
							    <p class="f16 fw-bold mb-1">보관함</p>
							    <span class="f14 d-block"><span class="text-muted">마이페이지&nbsp;&nbsp;/&nbsp;&nbsp;</span>보관함</span>
							</div>
							<div th:unless="${session.Member_Id}==null" class="p-3 py-2">
								<a href="/mypage">
									<p class="f16 fw-bold mb-1">보관함</p> <span
									class="f14 d-block"><span class="text-muted">마이페이지&nbsp;&nbsp;/&nbsp;&nbsp;</span>보관함</span>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- 알림창 -->
		<script type="text/javascript">
		    // showToast 함수 정의
		    function showToast() {
		        let message = "로그인이 필요한 서비스입니다.";
		        $('.my-toast-body').text(message);
		        $('.my-toast').toast('show');
		    }
		
		    // 문서가 준비되면 호출되는 함수
		    $(document).ready(function() {
		        // 버튼 클릭 이벤트 핸들러 등록
		        $('#showToastBtn').click(function() {
		            showToast(); // showToast 함수 호출
		        });
		    });
		</script>
	</nav>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>
		

</body>
</html>